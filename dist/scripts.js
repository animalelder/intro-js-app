var pokemonList=[];let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):console.log("pokemon is not correct")}function o(t){let e=t.detailsUrl;return fetch(e).then((function(t){return t.json()})).then((function(e){t.imageUrlCard=e.sprites.front_shiny,t.imageUrlModal=e.sprites.other.dream_world.front_default,t.height=e.height,t.weight=e.weight,t.types=[];for(let o=0;o<e.types.length;o++)t.types.push(e.types[o].type.name)})).catch((function(t){console.error(t)}))}function n(t){let e=$(".modal-body"),o=$(".modal-title");o.empty(),e.empty();let n=$('<h2 class="font-weight-bold text-uppercase pl-2">'+t.name+"</h2>"),i=$('<img class="modal-img" alt="Image of chosen Pokemon" style="max-width:30vw">');i.attr("src",t.imageUrlModal);let a=$('<div id="typeSet" class="w-auto pl-3 text-left"> Height: '+t.height+"</div>"),l=$('<div id="typeSet" class="w-auto pl-3 text-left"> Weight: '+t.weight+"</div>"),p=$('<div id="typeSet" class="w-auto pl-3 text-left">Type: '+t.types.join(", ")+"</div>");o.append(n),e.append(i),e.append(a),e.append(l),e.append(p)}return{add:e,getAll:function(){return t},addListItem:function(t){pokemonRepository.loadDetails(t).then((function(){let e=$(".row"),i=$('<div class="col-6 col-md-4 col-lg-3 pb-1 shadow-sm "></div>'),a=$('<img class="poke-img mx-auto" alt="sprite image"/>');a.attr("src",t.imageUrlCard);let l=$('<div class="card-body"></div>'),p=($('<div class="w-auto"></div>'),$('<div class="w-auto"></div>')),s=$('<div class="w-auto"></div>'),d=$('<h4 class="text-center pt-2" >'+t.name+"</h4>"),r=$('<button type="button" id="More" class="btn btn-primary rounded-pill mb-1 align-self-end float-right" data-toggle="modal" data-target="#myModal">More</button>');e.append(i),i.append(d),i.append(l),l.append(p),l.append(s),p.append(a),s.append(r),r.on("click",(function(e){!function(t){o(t).then((function(){n(t)}))}(t)}))}))},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then((function(t){return t.json()})).then((function(t){t.results.forEach((function(t){e({name:t.name,detailsUrl:t.url})}))})).catch((function(t){console.error(t)}))},loadDetails:o,openModal:n}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(t){pokemonRepository.addListItem(t)}))}));