var pokemonList=[];let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):console.log("pokemon is not correct")}function o(){return t}function n(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrlCard=e.sprites.front_shiny,t.imageUrlModal=e.sprites.other.dream_world.front_default,t.height=e.height,t.weight=e.weight,t.types=[];for(let o=0;o<e.types.length;o++)t.types.push(e.types[o].type.name)}).catch(function(t){console.error(t)})}function i(t){let e=$(".modal-body"),o=$(".modal-title");o.empty(),e.empty();let n=$('<h2 class="font-weight-bold text-uppercase pl-2">'+t.name+"</h2>"),i=$('<img class="modal-img" alt="Image of chosen Pokemon" style="max-width:30vw">');i.attr("src",t.imageUrlModal);let a=$('<div id="typeSet" class="w-auto pl-3 text-left"> Height: '+t.height+"</div>"),l=$('<div id="typeSet" class="w-auto pl-3 text-left"> Weight: '+t.weight+"</div>"),p=$('<div id="typeSet" class="w-auto pl-3 text-left">Type: '+t.types.join(", ")+"</div>");o.append(n),e.append(i),e.append(a),e.append(l),e.append(p)}return{add:e,getAll:o,addListItem:function t(e){pokemonRepository.loadDetails(e).then(function(){let t=$(".row"),o=$('<div class="col-6 col-md-4 col-lg-3 pb-1 shadow-sm "></div>'),a=$('<img class="poke-img mx-auto" alt="sprite image"/>');a.attr("src",e.imageUrlCard);let l=$('<div class="card-body"></div>');$('<div class="w-auto"></div>');let p=$('<div class="w-auto"></div>'),d=$('<div class="w-auto"></div>'),s=$('<h4 class="text-center pt-2" >'+e.name+"</h4>"),r=$('<button type="button" id="More" class="btn btn-primary rounded-pill mb-1 align-self-end float-right" data-toggle="modal" data-target="#myModal">More</button>');t.append(o),o.append(s),o.append(l),l.append(p),l.append(d),p.append(a),d.append(r),r.on("click",function(t){(function t(e){n(e).then(function(){i(e)})})(e)})})},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){let o={name:t.name,detailsUrl:t.url};e(o),console.log(o)})}).catch(function(t){console.error(t)})},loadDetails:n,openModal:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});